{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <div class="contact-details">
        <div>
            {% if prospect.image %}
                <img src="{{ prospect.image.url }}" alt="Profile picture of {{ prospect.first_name }} {{ prospect.last_name }}" class="contact-image" width="300" height="300">
            {% else %}
                <img src="{% static 'images/default_profile.jpg' %}" alt="Default profile picture" class="contact-image" width="300" height="300">
            {% endif %}
        </div>

        <div class="contact-info">
            <h2>{{ prospect.first_name }} {{ prospect.last_name }}</h2>

            <p><strong>Location:</strong> {{ prospect.city }}, {{ prospect.state }}</p>
            <p><strong>Email:</strong> <a href="mailto:{{ prospect.email }}">{{ prospect.email }}</a></p>
            <p><strong>Phone:</strong> {{ prospect.phone }}</p>
            <p><strong>Preferred Contact Method:</strong> {{ prospect.preferred_contact_method }}</p>
            <p><strong>Spouse Recruit:</strong> {% if prospect.spouse_recruit %}Yes{% else %}No{% endif %}</p>
            <p><strong>Marital Status:</strong> {{ prospect.get_marital_status_display }}</p>
            <p><strong>Pipeline Stage:</strong> {{ prospect.get_individual_pipeline_display }}</p>
            <p><strong>Priority:</strong> {{ prospect.get_priority_display }}</p>
            <p><strong>Assigned To:</strong> {{ prospect.assigned_to }}</p>
            <p><strong>Notes:</strong> {{ prospect.notes }}</p>

            <div class="contact-actions">
                <a href="{% url 'contacts:prospect_update' pk=prospect.pk %}" class="btn btn-primary">Edit Prospect</a>
                <a href="#" class="btn btn-secondary">Log Interaction</a>
                <a href="#" class="btn btn-info">Create Task</a>
            </div>
        </div>
    </div>

    <div class="interaction-history">
        <h3>Recent Interactions</h3>
        {% comment %} {% for interaction in recent_interactions %}
            <div class="interaction">
                <p><strong>{{ interaction.date|date:"Y-m-d" }}</strong> - <em>{{ interaction.get_type_display }}</em></p>
                <p>{{ interaction.summary }}</p>
            </div>
        {% empty %}
            <p>No recent interactions recorded.</p>
        {% endfor %} {% endcomment %}
    </div>
</div>
{% endblock %}