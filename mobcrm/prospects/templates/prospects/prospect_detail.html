{% extends 'core/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contact_detail.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="prospect-header">
    <h1>Prospect Details</h1>

    <div class="contact-details">
        <div>
            {% if prospect.profile_picture %}
                <img src="{{ prospect.profile_picture.url }}" alt="{{ prospect.first_name }} {{prospect.last_name }}" class="contact-image" width="300" height="300">
            {% else %}
                <img src="{% static 'img/default_profile.jpg' %}" alt="{{ prospect.first_name }} {{prospect.last_name }}" class="contact-image" width="300" height="300">
            {% endif %}
        </div>

        <div class="prospect-info">
            <h2>{{ prospect.first_name }} {{prospect.last_name }}</h2>
            <p><strong>Type:</strong> Prospect</p>
            <p><strong>Location:</strong> {{ prospect.city }}, {{prospect.state }}</p>
            <p><strong>Email:</strong> {{ prospect.email }}</p>
            <p><strong>Phone:</strong> {{ prospect.phone }}</p>
            <p><strong>Preferred Contact Method:</strong> {{ prospect.preferred_contact_method }}</p> 
            <p><strong>Home Country:</strong> {{ non_prospect_ind.get_home_country_display }}</p>           
            <p><strong>Pipeline Stage:</strong> {{ prospect.individual_pipeline_display }}</p>
            <p><strong>Notes:</strong> {{ prospect.notes }}</p>

            <div class="contact-actions">
                <a href="{% url 'contacts:prospect_update' prospect.contact_ptr_id %}" class="btn">Edit Prospect</a>
                <a href="#" class="btn">Log Interaction</a>
                <a href="#" class="btn">Create Task</a>
            </div>
        </div>
    </div>
#Implement Interaction History Functionality
    {% comment %} <div class="interaction-history">
        <h2>Recent Interactions</h2>
        {% for interaction in recent_interactions %}
            <div class="interaction">
                <span class="interaction-date">{{ interaction.date }}</span> - 
                <span class="interaction-type">{{ interaction.type }}</span>
                <p>{{ interaction.summary }}</p>
            </div>
        {% empty %}
            <p>No recent interactions recorded.</p>
        {% endfor %}
    </div> {% endcomment %}
</div>
{% endblock %}